import json
import re

a = ["123.59.68.172_65281_172.16.201.137_80_1523085630_vlan","123.59.68.172_1184_172.16.201.137_80_1523085632_vlan","123.59.68.172_1266_172.16.201.137_80_1523085633_vlan","123.59.68.172_1131_172.16.201.137_80_1523085632_vlan","123.59.68.172_1279_172.16.201.137_80_1523085633_vlan","123.59.68.172_1500_172.16.201.137_80_1523085634_vlan","123.59.68.172_1138_172.16.201.137_80_1523085632_vlan","123.59.68.172_1484_172.16.201.137_80_1523085634_vlan","123.59.68.172_1537_172.16.201.137_80_1523085634_vlan","123.59.68.172_1447_172.16.201.137_80_1523085634_vlan","192.168.62.140_43174_180.153.129.142_80_1523085697_vlan","123.59.68.172_65228_172.16.201.137_80_1523085630_vlan","123.59.68.172_1568_172.16.201.137_80_1523085634_vlan","123.59.68.172_1294_172.16.201.137_80_1523085633_vlan","123.59.68.172_65189_172.16.201.137_80_1523085630_vlan","123.59.68.172_1233_172.16.201.137_80_1523085633_vlan","123.59.68.172_65255_172.16.201.137_80_1523085630_vlan","123.59.68.172_65321_172.16.201.137_80_1523085630_vlan","123.59.68.172_1555_172.16.201.137_80_1523085634_vlan","123.59.68.172_1354_172.16.201.137_80_1523085633_vlan","172.16.101.37_62003_210.65.144.160_80_1523085607_vlan","123.59.68.172_65198_172.16.201.137_80_1523085630_vlan","192.168.64.76_44102_115.239.210.27_80_1523085637_vlan","123.59.68.172_1147_172.16.201.137_80_1523085632_vlan","123.59.68.172_65312_172.16.201.137_80_1523085630_vlan","123.59.68.172_1340_172.16.201.137_80_1523085633_vlan","123.59.68.172_1468_172.16.201.137_80_1523085634_vlan","123.59.68.172_1431_172.16.201.137_80_1523085634_vlan","123.59.68.172_1115_172.16.201.137_80_1523085632_vlan","123.59.68.172_65299_172.16.201.137_80_1523085630_vlan","123.59.68.172_65247_172.16.201.137_80_1523085630_vlan","192.168.62.140_52230_101.227.200.141_80_1523085606_vlan","123.59.68.172_1305_172.16.201.137_80_1523085633_vlan","123.59.68.172_1219_172.16.201.137_80_1523085633_vlan","123.59.68.172_1375_172.16.201.137_80_1523085633_vlan","123.59.68.172_1124_172.16.201.137_80_1523085632_vlan","192.168.61.87_54604_192.168.254.7_80_1523085592_vlan","123.59.68.172_1518_172.16.201.137_80_1523085634_vlan","192.168.207.30_59374_61.129.7.20_80_1523085662_vlan","192.168.249.155_37798_182.61.62.41_80_1523085644_vlan","123.59.68.172_1420_172.16.201.137_80_1523085634_vlan","123.59.68.172_1172_172.16.201.137_80_1523085632_vlan","123.59.68.172_1562_172.16.201.137_80_1523085634_vlan","123.59.68.172_1319_172.16.201.137_80_1523085633_vlan","123.59.68.172_65373_172.16.201.137_80_1523085632_vlan","192.168.66.104_54413_180.163.155.12_80_1523085699_vlan","192.168.64.76_44822_115.239.211.112_80_1523085638_vlan","123.59.68.172_1163_172.16.201.137_80_1523085632_vlan","123.59.68.172_65211_172.16.201.137_80_1523085630_vlan","123.59.68.172_65343_172.16.201.137_80_1523085630_vlan","123.59.68.172_65334_172.16.201.137_80_1523085630_vlan","123.59.68.172_65216_172.16.201.137_80_1523085630_vlan","192.168.62.140_52257_101.227.200.141_80_1523085697_vlan","192.168.249.155_54014_183.131.30.61_80_1523085615_vlan","123.59.68.172_1254_172.16.201.137_80_1523085633_vlan","123.59.68.172_1395_172.16.201.137_80_1523085633_vlan","123.59.68.172_1406_172.16.201.137_80_1523085633_vlan","123.59.68.172_1200_172.16.201.137_80_1523085632_vlan","123.59.68.172_1384_172.16.201.137_80_1523085633_vlan","192.168.249.155_38688_123.59.127.83_80_1523085705_vlan","192.168.66.104_54401_180.163.159.13_80_1523085698_vlan","192.168.64.195_46214_122.205.110.3_80_1523085609_vlan","192.168.66.104_54403_180.163.155.9_80_1523085698_vlan","172.16.201.137_80_123.59.68.172_65351_1523085630_vlan","123.59.68.172_1212_172.16.201.137_80_1523085632_vlan","192.168.66.104_54414_180.163.155.12_80_1523085699_vlan","172.16.201.137_80_123.59.68.172_1529_1523085634_vlan","123.59.68.172_65270_172.16.201.137_80_1523085630_vlan","123.59.68.172_1507_172.16.201.137_80_1523085634_vlan","192.168.249.155_49793_123.59.127.83_80_1523085630_vlan","123.59.68.172_1366_172.16.201.137_80_1523085633_vlan","123.59.68.172_1243_172.16.201.137_80_1523085633_vlan"]
b = ["123.59.68.172_65281_172.16.201.137_80_1523085630_vlan","123.59.68.172_1184_172.16.201.137_80_1523085632_vlan","123.59.68.172_1266_172.16.201.137_80_1523085633_vlan","123.59.68.172_1131_172.16.201.137_80_1523085632_vlan","123.59.68.172_1279_172.16.201.137_80_1523085633_vlan","123.59.68.172_1500_172.16.201.137_80_1523085634_vlan","123.59.68.172_1138_172.16.201.137_80_1523085632_vlan","123.59.68.172_1484_172.16.201.137_80_1523085634_vlan","123.59.68.172_1537_172.16.201.137_80_1523085634_vlan","123.59.68.172_1447_172.16.201.137_80_1523085634_vlan","123.59.68.172_65228_172.16.201.137_80_1523085630_vlan","123.59.68.172_1568_172.16.201.137_80_1523085634_vlan","123.59.68.172_1294_172.16.201.137_80_1523085633_vlan","123.59.68.172_65189_172.16.201.137_80_1523085630_vlan","123.59.68.172_1233_172.16.201.137_80_1523085633_vlan","123.59.68.172_65255_172.16.201.137_80_1523085630_vlan","123.59.68.172_65321_172.16.201.137_80_1523085630_vlan","123.59.68.172_1555_172.16.201.137_80_1523085634_vlan","123.59.68.172_1354_172.16.201.137_80_1523085633_vlan","123.59.68.172_65198_172.16.201.137_80_1523085630_vlan","123.59.68.172_1147_172.16.201.137_80_1523085632_vlan","123.59.68.172_65312_172.16.201.137_80_1523085630_vlan","123.59.68.172_1340_172.16.201.137_80_1523085633_vlan","123.59.68.172_1468_172.16.201.137_80_1523085634_vlan","123.59.68.172_1431_172.16.201.137_80_1523085634_vlan","123.59.68.172_1115_172.16.201.137_80_1523085632_vlan","123.59.68.172_65299_172.16.201.137_80_1523085630_vlan","123.59.68.172_65247_172.16.201.137_80_1523085630_vlan","123.59.68.172_1305_172.16.201.137_80_1523085633_vlan","123.59.68.172_1219_172.16.201.137_80_1523085633_vlan","123.59.68.172_1375_172.16.201.137_80_1523085633_vlan","123.59.68.172_1124_172.16.201.137_80_1523085632_vlan","123.59.68.172_1518_172.16.201.137_80_1523085634_vlan","123.59.68.172_1420_172.16.201.137_80_1523085634_vlan","123.59.68.172_1172_172.16.201.137_80_1523085632_vlan","123.59.68.172_1562_172.16.201.137_80_1523085634_vlan","123.59.68.172_1319_172.16.201.137_80_1523085633_vlan","123.59.68.172_65366_172.16.201.137_80_1523085630_vlan","123.59.68.172_65373_172.16.201.137_80_1523085632_vlan","123.59.68.172_1163_172.16.201.137_80_1523085632_vlan","123.59.68.172_65211_172.16.201.137_80_1523085630_vlan","123.59.68.172_65343_172.16.201.137_80_1523085630_vlan","123.59.68.172_65334_172.16.201.137_80_1523085630_vlan","123.59.68.172_65216_172.16.201.137_80_1523085630_vlan","123.59.68.172_1254_172.16.201.137_80_1523085633_vlan","123.59.68.172_1395_172.16.201.137_80_1523085633_vlan","123.59.68.172_1406_172.16.201.137_80_1523085633_vlan","123.59.68.172_1200_172.16.201.137_80_1523085632_vlan","123.59.68.172_1384_172.16.201.137_80_1523085633_vlan","123.59.68.172_65182_172.16.201.137_80_1523085630_vlan","172.16.201.137_80_123.59.68.172_65351_1523085630_vlan","123.59.68.172_1212_172.16.201.137_80_1523085632_vlan","172.16.201.137_80_123.59.68.172_1529_1523085634_vlan","123.59.68.172_65270_172.16.201.137_80_1523085630_vlan","123.59.68.172_1507_172.16.201.137_80_1523085634_vlan","123.59.68.172_1366_172.16.201.137_80_1523085633_vla","123.59.68.172_1243_172.16.201.137_80_1523085633_vlan"]
# c = 0
d = open("C:/Users/lenovo/Desktop/第二次审核/024", 'r').read()
d_index = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1]
d = re.findall("read /home/ubuntu/dataset/wanyong80_024/Backgroud_PC/[01]/([._0-9]*_vlan).dat", d)
i = 0
while i < len(d):
    if not d_index[i]:
        del d_index[i]
        del d[i]
    else:
        i += 1
# print(len(a))
# print(len(b))
# for i in a:
#     if i in b:
#         c+=1
# print(c)

tmp = {}
c = json.load(open("C:/Users/lenovo/Downloads/stream.json", 'r'))
print(len(c["Background_PC"]))
for i in a:
    for e in c:
        for j in c[e]:
            for k in c[e][j]:
                if i in k['filename']:
                    if e not in tmp:
                        tmp[e] = {j: [1, len(c[e][j])]}
                    elif j not in tmp[e]:
                        tmp[e][j] = [1, len(c[e][j])]
                    elif j in tmp[e]:
                        tmp[e][j][0] += 1
print(tmp)
e = []
for i in tmp['Background_PC']:
    e.append((1-tmp['Background_PC'][i][0]/tmp['Background_PC'][i][1], tmp['Background_PC'][i][0]/tmp['Background_PC'][i][1]))
print(e)