<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>MAD|系统介绍</title>

	<!-- Favicon -->
	<link rel="shortcut icon" href="../img/favicon.png">
	<link rel="icon" href="../img/favicon.png" type="image/x-icon">

	<!-- Data table CSS -->
	<link href="../vendors/bower_components/datatables/media/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css"/>

	<!-- Toast CSS -->
	<link href="../vendors/bower_components/jquery-toast-plugin/dist/jquery.toast.min.css" rel="stylesheet" type="text/css">

	<!-- Morris Charts CSS -->
    <link href="../vendors/bower_components/morris.js/morris.css" rel="stylesheet" type="text/css"/>

	<!-- Custom CSS -->
	<link href="dist/css/style.css" rel="stylesheet" type="text/css">
</head>

<body>
	<!-- Preloader -->
	<div class="preloader-it">
		<div class="la-anim-1"></div>
	</div>
	<!-- /Preloader -->
    <div class="wrapper theme-6-active pimary-color-pink">
		<!-- Top Menu Items -->
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="mobile-only-brand pull-left">
				<div class="nav-header pull-left">
					<div class="logo-wrap">
						<a target="_blank" href="index.html">
							<img class="brand-img" src="../img/logo.png" alt="brand"/>
							<span class="brand-text">MAD</span>
						</a>
					</div>
				</div>
				<a id="toggle_nav_btn" class="toggle-left-nav-btn inline-block ml-20 pull-left" href="javascript:void(0);"><i class="zmdi zmdi-menu"></i></a>
				<a id="toggle_mobile_nav" class="mobile-only-view" href="javascript:void(0);"><i class="zmdi zmdi-more"></i></a>
			</div>
		</nav>
		<!-- /Top Menu Items -->

		<!-- Left Sidebar Menu -->
		<div class="fixed-sidebar-left">
			<ul class="nav navbar-nav side-nav nicescroll-bar">
				<li class="navigation-header">
					<span>主页</span>
					<i class="zmdi zmdi-more"></i>
				</li>
				<li>
					<a target="_blank" href="index.html"><div class="pull-left"><i class="zmdi zmdi-star-circle mr-20"></i><span class="right-nav-text">主页</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li>
					<a target="_blank" href="abstract.html"><div class="pull-left"><i class="zmdi zmdi-chart mr-20"></i><span class="right-nav-text">概要统计</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li><hr class="light-grey-hr mb-10"/></li>
				<li class="navigation-header">
					<span>统计</span>
					<i class="zmdi zmdi-more"></i>
				</li>
				<li>
					<a target="_blank" href="detail.html"><div class="pull-left"><i class="zmdi zmdi-view-list-alt mr-20"></i><span class="right-nav-text">检测结果</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li>
					<a target="_blank" href="inner_detail.html"><div class="pull-left"><i class="zmdi zmdi-view-list-alt mr-20"></i><span class="right-nav-text">内网IP信息</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li>
					<a target="_blank" href="ua_detail.html"><div class="pull-left"><i class="zmdi zmdi-view-list-alt mr-20"></i><span class="right-nav-text">UA详细信息</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li>
					<a target="_blank" href="outer_detail.html"><div class="pull-left"><i class="zmdi zmdi-view-list-alt mr-20"></i><span class="right-nav-text">通信服务器信息</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li><hr class="light-grey-hr mb-10"/></li>
				<li class="navigation-header">
					<span>关于</span>
					<i class="zmdi zmdi-more"></i>
				</li>
				<li>
					<a target="_blank" href="usage.html"><div class="pull-left"><i class="zmdi zmdi-pin-help mr-20"></i><span class="right-nav-text">使用方法</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li>
					<a target="_blank" class="active" href="intro.html"><div class="pull-left"><i class="zmdi zmdi-puzzle-piece mr-20"></i><span class="right-nav-text">系统介绍</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li>
					<a target="_blank" href="about.html"><div class="pull-left"><i class="zmdi zmdi-accounts mr-20"></i><span class="right-nav-text">关于我们</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li>
					<a target="_blank" href="download.html"><div class="pull-left"><i class="zmdi zmdi-download mr-20"></i><span class="right-nav-text">下载专区</span></div><div class="pull-right"></div><div class="clearfix"></div></a>
				</li>
				<li><hr class="light-grey-hr mb-10"/></li>
			</ul>
		</div>
		<!-- /Left Sidebar Menu -->

        <!-- Main Content -->
		<div class="page-wrapper">
            <div class="container-fluid pt-25">
				<!-- Title -->
				<div class="row heading-bg">
					<div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
					  <h5 class="txt-dark">系统介绍</h5>
					</div>
					<!-- Breadcrumb -->
					<div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
					  <ol class="breadcrumb">
						<li><a href="index.html">主页</a></li>
						<li><a href="#"><span>关于</span></a></li>
						<li class="active"><span>系统介绍</span></li>
					  </ol>
					</div>
					<!-- /Breadcrumb -->
				</div>
				<!-- /Title -->
				<!-- Row -->
				<div class="row">
				    <div class="col-lg-12">
						<div class="panel panel-default card-view">
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-dark">系统整体架构图</h6>
								</div>
								<div class="clearfix"></div>
							</div>
							<div class="panel-wrapper collapse in">
								<div  class="panel-body">
									<div class="">
										<div id="owl_demo_1" class="owl-carousel owl-theme">
										    <div class="item">
												<img src="../img/System.png" alt="Owl Image"/>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					 </div>
				</div>
				<!-- /Row -->
				<!-- Row -->
				<div class="row">
					<div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
						<div class="panel panel-default border-panel card-view">
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-dark">数据预处理</h6>
								</div>
								<div class="clearfix"></div>
							</div>
							<div  class="panel-wrapper collapse in">
								<div  class="panel-body pl-15">
									<ol>
									    <li class="mb-10">系统读入在网关处捕获的HTTP流量数据，使用Alexa Top 10000的名单对HTTP流量进行过滤。Alexa Top名单中将世界网站按访问流量进行排名，因此这些域名能够被视作可信任的。</li>
									    <li class="mb-10">考虑到捕获的HTTP流量中包含大量来自浏览器的部分，而浏览器的HTTP流量是由用户直接交互所产生的，是良性流量，这意味着我们只需要对后台软件产生的流量进行判别来检测恶意软件。因此，我们根据浏览器的HTTP请求相互之间存在关联的特点，使用WebGraphic请求图算法来对浏览器HTTP流量进行清洗。</li>
									    <li class="mb-10">在去掉了浏览器流量后，在剩下的后台软件HTTP流量中，由于同类软件的相似HTTP流量会多次在网关处出现，对这些具有一定相同特征的流量进行重复处理会消耗不必要的资源，因此，通过对流量生成指纹，可在之后对流量的处理中直接判别相似流量，从而提高系统检测效率。</li>
										<li>将过滤得到的HTTP流量进行流化处理，并对这些流按照其IP和使用的User-Agent进行聚类。最终将同一类组中的HTTP流利用jspcap进行重组，对重组后的数据进行下一步的检测分析。</li>
									</ol>
								</div>
							</div>
						</div>
					</div>
					<div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
						<div class="panel panel-default border-panel card-view">
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-dark">分析检测</h6>
								</div>
								<div class="clearfix"></div>
							</div>
							<div  class="panel-wrapper collapse in">
								<div  class="panel-body">
									<p style="text-indent:2em;">首先，我们提前使用采集的良性与恶意的HTTP流量样本集，采用深度学习中的卷积神经网络来训练基本的检测模型。工作时，模型以进行重组后的HTTP流作为输入，给出判别的结果。</p>
									<p style="text-indent:2em;">考虑到该检测模型极其依赖于训练所使用的ground truth样本数据集，而该样本集是从别处采集进行标注获取的，往往不能涵盖实际应用的新环境当中所有可能的流量特征，这就会导致检测系统精度不够理想，特别是误检率较高。因此，我们在该部分引入了迁移学习和反馈学习的机制。检测模型在应用到实际环境的初期，在人工指导下进行调整并适应新环境；然后在之后的工作阶段中，根据判断，自主更新数据集并进行重新学习调整，保证模型持续有效。</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- /Row -->
				<!-- WebGraphic -->
				<div class="row">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<div class="panel panel-success border-panel card-view">
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-light">浏览器流量清洗</h6>
								</div>
								<div class="clearfix"></div>
							</div>
							<div  class="panel-wrapper collapse in">
								<div  class="panel-body">
									<p style="text-indent:2em;">经过网关的HTTP流量当中包含大量来自浏览器的部分，这系列流量与用户的直接交互相关，比如某个页面的加载，某个图片的点击请求等，是由用户亲自所操作产生，可视为良性流量。而那些由后台软件所发出的HTTP请求不包含用户的操作，是软件自行进行的一些比如更新查询、与服务器通信之类的行为，这也是恶意软件使用HTTP协议进行通信的行为方式，所以恶意软件的检测识别依赖于对后台软件产生的HTTP请求的处理。因此，为保证系统检测的实时性，我们选择使用WebGraphic网络图算法,对数据中的浏览器HTTP流量进行清洗，减小处理的数据量，使后续步骤集中于对后台软件的HTTP流量进行分析。</p>
								</div>
								<div  class="panel-body">
									<p style="text-indent:2em;">同时，因为浏览器HTTP请求和后台软件HTTP请求具有明显不同的特征（如浏览器HTTP请求的格式和内容变化频繁，而后台软件HTTP请求的格式相对稳定，具有固定的模式，其HTTP请求头具有固定的结构，HTTP请求的大小固定，或者具有相同的数据内容等），该处理也使得后续步骤中使用深度学习生成的检测模型更具有针对性。</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-9 col-md-12 col-sm-12 col-xs-12">
						<div class="panel panel-default border-panel card-view">
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-dark">WebGraphic请求图算法</h6>
								</div>
								<div class="clearfix"></div>
							</div>
							<div  class="panel-wrapper collapse in">
								<div  class="panel-body">
									<p style="text-indent:2em;">浏览器在用户的交互下产生HTTP请求，这些由用户操作产生的一系列请求一般来说具有明显的相关性。比如用户在浏览网页时，从一个站点点击链接跳转到另一个站点，或者在同一个主域名下不同页面间浏览，这些请求都存在明显的关系。而后台软件所产生的每个HTTP请求一般具有各自明确目标和任务，并不相互关联。根据这个特性，我们将捕获到的每个HTTP请求视为一个节点，依次按数据包的时间戳读入请求，将其置于设定为一定大小的时间窗之中。然后通过预定的规则不断在时间窗中发现并连接具有联系的节点，构建 WebGraphic 网络请求节点图。在所有请求读入并处理完毕后，成功建立起联系的节点即为来自浏览器类型软件的流量，而孤独结点则为来自后台软件的流量。</p>
								</div>
								<div  class="panel-body">
									<p style="text-indent:2em;">在处理过程当中，我们使用以下规则来识别HTTP请求的头节点并连结相关的子节点：</p>
								</div>
								<div  class="panel-body pl-15">
									<ol>
									    <li class="mb-10">根据HTTP请求的Referer字段在设定好的时间窗中找出前向节点，将其设置为头节点后，将所有指向相同Referer的子节点连结在一起；</li>
									    <li class="mb-10">根据HTTP请求的URL包含的关键字，寻找对于常见的可视化页面相关资源的请求，将其设置为头节点。目标请求的寻找采用关键字匹配的方法，所设置的关键字包括：html，php，htm，css，json，js，asp，aspx，jsp，shtml，stm，shtm；</li>
									    <li class="mb-10">对于包含Referer字段但在当前时间窗内找不到前向节点的HTTP请求，将其连接到与其Referer字段指向的头节点的域名相似的节点组当中。判断域名相似的方法为使用Levenshtein算法计算主域名的相似度，若相似度大于字段长度的2/3则判断为 True（注：对于给定的两个字符串str1和str2，Levenshtein算法能够计算str1修改为str2需要的最少字符变动次数）；</li>
										<li>若HTTP请求的Host字段与已经存在的某个节点组中的域名相同，则将该HTTP请求加入该组。</li>
									</ol>
								</div>
							</div>
						</div>
					</div>

					<div class="col-lg-3 col-md-6 col-sm-12 col-xs-12">
						<div class="panel panel-default card-view panel-refresh">
							<div class="refresh-container">
								<div class="la-anim-1"></div>
							</div>
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-dark">WebGraphic图示</h6>
								</div>
								<div class="pull-right">
								</div>
								<div class="clearfix"></div>
							</div>

							<div class="panel-wrapper collapse in">
								<div class="panel-body">
									<div id="e_chart_1" class="" style="height:242px;"></div>
									<div class="label-chatrs mt-15">
										<div class="mb-5">
											<span class="clabels inline-block bg-blue mr-5"></span>
											<span class="clabels-text font-12 inline-block txt-dark capitalize-font">用户操作请求</span>
										</div>
										<div class="mb-5">
											<span class="clabels inline-block bg-light-blue mr-5"></span>
											<span class="clabels-text font-12 inline-block txt-dark capitalize-font">关联请求</span>
										</div>
										<div class="">
											<span class="clabels inline-block bg-red mr-5"></span>
											<span class="clabels-text font-12 inline-block txt-dark capitalize-font">孤立请求</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
				<!-- /WebGraphic -->
				<!-- Fingerprint -->
				<div class="row">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<div class="panel panel-success border-panel card-view">
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-light">指纹判断相似流量</h6>
								</div>
								<div class="clearfix"></div>
							</div>
							<div  class="panel-wrapper collapse in">
								<div  class="panel-body">
									<p style="text-indent:2em;">在一个网络系统内部，由于软件种类总数总体来看处于相对稳定状态，同时，同类软件在工作时往往会产生具有类似特征的HTTP流量，在网关捕获的所有HTTP流量数据中，很多流量之间具有相似性，且在长时间段内，出现过的流量的类型总量变化不大。因此，通过对这些出现过的相似流量进行识别，我们的系统就能够在工作过程当中利用已有检测结果直接做出判断，在很大程度上提高了系统的工作效率。</p>
								</div>
								<div  class="panel-body">
									<p style="text-indent:2em;">由于依靠传统方式所使用的根据User-Agent来对同类流量进行识别并不够可靠，同时恶意软件也可能伪造自身的User-Agent影响识别结果。因此，我们选择根据每种软件所发出的HTTP请求在格式、大小以及某些字段所具有的特点，针对这些特征使用指纹生成算法来实现对相似的流量的识别。</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
						<div class="panel panel-default border-panel card-view">
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-dark">指纹提取算法</h6>
								</div>
								<div class="clearfix"></div>
							</div>
							<div  class="panel-wrapper collapse in">
								<div class="panel-body">
									<p style="text-indent: 2em;">在该部中，我们根据IP+UA对HTTP流量(尚未进行流化处理)进行分组，以分组为单位，根据每组内包含的所有HTTP流量来进行该类流量的指纹计算。针对后台软件的流量在HTTP请求的格式和内容方面具有的特征,我们使用以下字段来生成后台软件流量的指纹：</p>
								</div>
								<div  class="panel-body pl-30">
									<ul class="uo-list">
									    <li class="mb-10">User-Agent字段</li>
									    <li class="mb-10">IP字段</li>
									    <li class="mb-10">Constant Header（组内所有HTTP请求头部的公共字段）</li>
										<li class="mb-10">Average Size（组内所有HTTP请求头部平均大小）</li>
										<li>Language字段</li>
									</ol>
								</div>
							</div>
						</div>
					</div>
					<div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
						<div class="panel panel-default border-panel card-view">
							<div class="panel-heading">
								<div class="pull-left">
									<h6 class="panel-title txt-dark">指纹识别算法</h6>
								</div>
								<div class="clearfix"></div>
							</div>
							<div  class="panel-wrapper collapse in">
								<div  class="panel-body">
									<p style="text-indent:2em;">在指纹识别阶段，若之前生成的流量指纹列表为{FP1, FP2, FP3, …}，通过遍历该列表，将新生成的流量指纹与每个指纹计算相似度，若与某个已有指纹相似度达到所设定的阈值，则该流量被识别为已知流量。</p>
									<p style="text-indent:2em;">识别过程中关键在于各个特征字段相似度分数以及相似度阈值大小的设定。若阈值设定过小，则会出现把新的流量识别为已知流量的情况；若设定过大，则会影响识别出相似流量的效果。但考虑到在本系统中指纹识别主要用途为提升系统效率，因此阈值宁愿设置较高，以避免在检测出现遗漏的情况。</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- /Fingerprint -->

			</div>

			<!-- Footer -->
			<footer class="footer container-fluid pl-30 pr-30">
				<div class="row">
					<div class="col-sm-12">
						<p>2018 &copy; C&D</p>
					</div>
				</div>
			</footer>
			<!-- /Footer -->

		</div>
        <!-- /Main Content -->

    </div>
    <!-- /#wrapper -->

	<!-- JavaScript -->

    <!-- jQuery -->
    <script src="../vendors/bower_components/jquery/dist/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

	<!-- Data table JavaScript -->
	<script src="../vendors/bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
	<script src="../vendors/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
	<script src="../vendors/bower_components/datatables.net-buttons/js/buttons.flash.min.js"></script>
	<script src="../vendors/bower_components/jszip/dist/jszip.min.js"></script>
	<script src="../vendors/bower_components/pdfmake/build/pdfmake.min.js"></script>
	<script src="../vendors/bower_components/pdfmake/build/vfs_fonts.js"></script>

	<script src="../vendors/bower_components/datatables.net-buttons/js/buttons.html5.min.js"></script>
	<script src="../vendors/bower_components/datatables.net-buttons/js/buttons.print.min.js"></script>
	<script src="dist/js/export-table-data.js"></script>

	<!-- Slimscroll JavaScript -->
	<script src="dist/js/jquery.slimscroll.js"></script>

	<!-- simpleWeather JavaScript -->
	<script src="../vendors/bower_components/moment/min/moment.min.js"></script>
	<script src="../vendors/bower_components/simpleWeather/jquery.simpleWeather.min.js"></script>
	<script src="dist/js/simpleweather-data.js"></script>

	<!-- Progressbar Animation JavaScript -->
	<script src="../vendors/bower_components/waypoints/lib/jquery.waypoints.min.js"></script>
	<script src="../vendors/bower_components/jquery.counterup/jquery.counterup.min.js"></script>

	<!-- Fancy Dropdown JS -->
	<script src="dist/js/dropdown-bootstrap-extended.js"></script>

	<!-- Sparkline JavaScript -->
	<script src="../vendors/jquery.sparkline/dist/jquery.sparkline.min.js"></script>

	<!-- Owl JavaScript -->
	<script src="../vendors/bower_components/owl.carousel/dist/owl.carousel.min.js"></script>

	<!-- Owl Init JavaScript -->
	<script src="dist/js/owl-data.js"></script>

	<!-- Toast JavaScript -->
	<script src="../vendors/bower_components/jquery-toast-plugin/dist/jquery.toast.min.js"></script>

	<!-- EChartJS JavaScript -->
	<script src="../vendors/bower_components/echarts/dist/echarts-en.min.js"></script>
	<script src="../vendors/echarts-liquidfill.min.js"></script>

	<!-- Switchery JavaScript -->
	<script src="../vendors/bower_components/switchery/dist/switchery.min.js"></script>

	<!-- Init JavaScript -->
	<script src="dist/js/index/init.js"></script>
	<script src="dist/js/dashboard-data.js"></script>

    <!-- Morris Charts JavaScript -->
    <script src="../vendors/bower_components/raphael/raphael.min.js"></script>
    <script src="../vendors/bower_components/morris.js/morris.min.js"></script>
    <script src="dist/js/morris-data.js"></script>
</body>

</html>
